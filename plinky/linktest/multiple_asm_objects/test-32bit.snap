---
source: plinky_test_harness/src/utils.rs
---
linking exited with exit status: 0

no stdout present

=== stderr ===
debug print: loaded object
 │
 │  class: Elf32, endian: Little, abi: SystemV, machine: X86
 │
 │  section .comment#10 (no perms) in <plinky>
 │   │
 │   │  zero-terminated strings should be deduplicated
 │   │
 │   │  ╭──────────────────────────────────────────────┬─────────────────╮
 │   │  │ 4c 69 6e 6b 65 72 3a 20 70 6c 69 6e 6b 79 00 │ Linker: plinky. │
 │   │  ╰──────────────────────────────────────────────┴─────────────────╯
 │   ┴
 │
 │  section .rodata#6 (perms: r) in goodbye.o
 │   │
 │   │  ╭──────────────────────────────────────────────┬─────────────────╮
 │   │  │ 47 6f 6f 64 62 79 65 20 77 6f 72 6c 64 21 0a │ Goodbye world!. │
 │   │  ╰──────────────────────────────────────────────┴─────────────────╯
 │   ┴
 │
 │  section .rodata#16 (perms: r) in hello.o
 │   │
 │   │  ╭────────────────────────────────────────┬───────────────╮
 │   │  │ 48 65 6c 6c 6f 20 77 6f 72 6c 64 21 0a │ Hello world!. │
 │   │  ╰────────────────────────────────────────┴───────────────╯
 │   ┴
 │
 │  section names section .shstrtab#0 in <plinky>
 │   │
 │   │  section names
 │   ┴
 │
 │  string table section .strtab#20 in <plinky>
 │   │
 │   │  symbol names for: symbol table
 │   ┴
 │
 │  symbols table section .symtab#21 in <plinky>
 │   │
 │   │  view: symbol table
 │   │  strings: .strtab#20
 │   ┴
 │
 │  section .text#2 (perms: rx) in goodbye.o
 │   │
 │   │  ╭─────────────────────────────────────────────────┬──────────────────╮
 │   │  │ b8 04 00 00 00 bb 01 00 00 00 b9 00 00 00 00 ba │ ................ │
 │   │  │ 0f 00 00 00 cd 80 b0 01 bb 00 00 00 00 cd 80    │ ...............  │
 │   │  ╰─────────────────────────────────────────────────┴──────────────────╯
 │   │
 │   │    Relocations:
 │   │  ╭────────────┬─────────────────────┬────────┬────────╮
 │   │  │ Type       │ Symbol              │ Offset │ Addend │
 │   │  ├────────────┼─────────────────────┼────────┼────────┤
 │   │  │ Absolute32 │ <section .rodata#6> │ 0xb    │        │
 │   │  ╰────────────┴─────────────────────┴────────┴────────╯
 │   ┴
 │
 │  section .text#12 (perms: rx) in hello.o
 │   │
 │   │  ╭─────────────────────────────────────────────────┬──────────────────╮
 │   │  │ b8 04 00 00 00 bb 01 00 00 00 b9 00 00 00 00 ba │ ................ │
 │   │  │ 0d 00 00 00 cd 80 e9 fc ff ff ff                │ ...........      │
 │   │  ╰─────────────────────────────────────────────────┴──────────────────╯
 │   │
 │   │    Relocations:
 │   │  ╭────────────┬──────────────────────┬────────┬────────╮
 │   │  │ Type       │ Symbol               │ Offset │ Addend │
 │   │  ├────────────┼──────────────────────┼────────┼────────┤
 │   │  │ Absolute32 │ <section .rodata#16> │ 0xb    │        │
 │   │  ├────────────┼──────────────────────┼────────┼────────┤
 │   │  │ Relative32 │ goodbye#7            │ 0x17   │        │
 │   │  ╰────────────┴──────────────────────┴────────┴────────╯
 │   ┴
 │
 │    Symbols:
 │  ╭──────────────────────┬─────────┬───────────┬────────────┬──────────────────╮
 │  │ Name                 │ Type    │ Source    │ Visibility │ Value            │
 │  ├──────────────────────┼─────────┼───────────┼────────────┼──────────────────┤
 │  │ <symbol#0>           │ none    │ <plinky>  │ local      │ <null>           │
 │  ├──────────────────────┼─────────┼───────────┼────────────┼──────────────────┤
 │  │ <section .rodata#6>  │ section │ goodbye.o │ local      │ .rodata#6 + 0x0  │
 │  ├──────────────────────┼─────────┼───────────┼────────────┼──────────────────┤
 │  │ <section .rodata#16> │ section │ hello.o   │ local      │ .rodata#16 + 0x0 │
 │  ├──────────────────────┼─────────┼───────────┼────────────┼──────────────────┤
 │  │ _start#1             │ none    │ hello.o   │ global     │ .text#12 + 0x0   │
 │  ├──────────────────────┼─────────┼───────────┼────────────┼──────────────────┤
 │  │ goodbye#7            │ none    │ goodbye.o │ global     │ .text#2 + 0x0    │
 │  ├──────────────────────┼─────────┼───────────┼────────────┼──────────────────┤
 │  │ len#6                │ none    │ goodbye.o │ local      │ 0xf              │
 │  ├──────────────────────┼─────────┼───────────┼────────────┼──────────────────┤
 │  │ len#12               │ none    │ hello.o   │ local      │ 0xd              │
 │  ├──────────────────────┼─────────┼───────────┼────────────┼──────────────────┤
 │  │ msg#5                │ none    │ goodbye.o │ local      │ .rodata#6 + 0x0  │
 │  ├──────────────────────┼─────────┼───────────┼────────────┼──────────────────┤
 │  │ msg#11               │ none    │ hello.o   │ local      │ .rodata#16 + 0x0 │
 │  ╰──────────────────────┴─────────┴───────────┴────────────┴──────────────────╯
 ┴

debug print: calculated layout
 │
 │    Layout:
 │  ╭──────────────────┬─────────────┬─────────────┬────────────────┬───────────────╮
 │  │ Part             │ File offset │ File length │ Memory address │ Memory length │
 │  ├──────────────────┼─────────────┼─────────────┼────────────────┼───────────────┤
 │  │ <elf header>     │ 0x0         │ 0x34        │ -              │ -             │
 │  ├──────────────────┼─────────────┼─────────────┼────────────────┼───────────────┤
 │  │ <program header> │ 0x34        │ 0x60        │ -              │ -             │
 │  ├──────────────────┼─────────────┼─────────────┼────────────────┼───────────────┤
 │  │ <section header> │ 0x94        │ 0x168       │ -              │ -             │
 │  ├──────────────────┼─────────────┼─────────────┼────────────────┼───────────────┤
 │  │ .shstrtab#0      │ 0x1fc       │ 0x40        │ -              │ -             │
 │  ├──────────────────┼─────────────┼─────────────┼────────────────┼───────────────┤
 │  │ .comment#10      │ 0x23c       │ 0xf         │ -              │ -             │
 │  ├──────────────────┼─────────────┼─────────────┼────────────────┼───────────────┤
 │  │ .strtab#20       │ 0x24b       │ 0x33        │ -              │ -             │
 │  ├──────────────────┼─────────────┼─────────────┼────────────────┼───────────────┤
 │  │ .symtab#21       │ 0x27e       │ 0x90        │ -              │ -             │
 │  ├──────────────────┼─────────────┼─────────────┼────────────────┼───────────────┤
 │  │ <padding>        │ 0x30e       │ 0xcf2       │ -              │ -             │
 │  ├──────────────────┼─────────────┼─────────────┼────────────────┼───────────────┤
 │  │ .rodata#6        │ 0x1000      │ 0xf         │ 0x400000       │ 0xf           │
 │  ├──────────────────┼─────────────┼─────────────┼────────────────┼───────────────┤
 │  │ .rodata#16       │ 0x100f      │ 0xd         │ 0x40000f       │ 0xd           │
 │  ├──────────────────┼─────────────┼─────────────┼────────────────┼───────────────┤
 │  │ <padding>        │ 0x101c      │ 0xfe4       │ -              │ -             │
 │  ├──────────────────┼─────────────┼─────────────┼────────────────┼───────────────┤
 │  │ .text#2          │ 0x2000      │ 0x1f        │ 0x401000       │ 0x1f          │
 │  ├──────────────────┼─────────────┼─────────────┼────────────────┼───────────────┤
 │  │ .text#12         │ 0x201f      │ 0x1b        │ 0x40101f       │ 0x1b          │
 │  ╰──────────────────┴─────────────┴─────────────┴────────────────┴───────────────╯
 │
 │    Segments:
 │  ╭──────────┬────────┬───────────┬───────┬────────────╮
 │  │ Start    │ Align  │ Type      │ Perms │ Content    │
 │  ├──────────┼────────┼───────────┼───────┼────────────┤
 │  │ 0x400000 │ 0x1000 │ program   │ R     │ .rodata#6  │
 │  │          │        │           │       │ .rodata#16 │
 │  ├──────────┼────────┼───────────┼───────┼────────────┤
 │  │ 0x401000 │ 0x1000 │ program   │ RX    │ .text#2    │
 │  │          │        │           │       │ .text#12   │
 │  ├──────────┼────────┼───────────┼───────┼────────────┤
 │  │ -        │ 0x1    │ GNU stack │ RW    │            │
 │  ╰──────────┴────────┴───────────┴───────┴────────────╯
 ┴

debug print: object after relocations are applied
 │
 │  class: Elf32, endian: Little, abi: SystemV, machine: X86
 │
 │  section .comment#10 (no perms) in <plinky>
 │   │
 │   │  zero-terminated strings should be deduplicated
 │   │
 │   │  not allocated in the resulting memory
 │   │
 │   │  ╭──────────────────────────────────────────────┬─────────────────╮
 │   │  │ 4c 69 6e 6b 65 72 3a 20 70 6c 69 6e 6b 79 00 │ Linker: plinky. │
 │   │  ╰──────────────────────────────────────────────┴─────────────────╯
 │   ┴
 │
 │  section .rodata#6 (perms: r) in goodbye.o
 │   │
 │   │  address: 0x400000
 │   │
 │   │  ╭──────────────────────────────────────────────┬─────────────────╮
 │   │  │ 47 6f 6f 64 62 79 65 20 77 6f 72 6c 64 21 0a │ Goodbye world!. │
 │   │  ╰──────────────────────────────────────────────┴─────────────────╯
 │   ┴
 │
 │  section .rodata#16 (perms: r) in hello.o
 │   │
 │   │  address: 0x40000f
 │   │
 │   │  ╭────────────────────────────────────────┬───────────────╮
 │   │  │ 48 65 6c 6c 6f 20 77 6f 72 6c 64 21 0a │ Hello world!. │
 │   │  ╰────────────────────────────────────────┴───────────────╯
 │   ┴
 │
 │  section names section .shstrtab#0 in <plinky>
 │   │
 │   │  section names
 │   ┴
 │
 │  string table section .strtab#20 in <plinky>
 │   │
 │   │  symbol names for: symbol table
 │   ┴
 │
 │  symbols table section .symtab#21 in <plinky>
 │   │
 │   │  view: symbol table
 │   │  strings: .strtab#20
 │   ┴
 │
 │  section .text#2 (perms: rx) in goodbye.o
 │   │
 │   │  address: 0x401000
 │   │
 │   │  ╭─────────────────────────────────────────────────┬──────────────────╮
 │   │  │ b8 04 00 00 00 bb 01 00 00 00 b9 00 00 40 00 ba │ .............@.. │
 │   │  │ 0f 00 00 00 cd 80 b0 01 bb 00 00 00 00 cd 80    │ ...............  │
 │   │  ╰─────────────────────────────────────────────────┴──────────────────╯
 │   ┴
 │
 │  section .text#12 (perms: rx) in hello.o
 │   │
 │   │  address: 0x40101f
 │   │
 │   │  ╭─────────────────────────────────────────────────┬──────────────────╮
 │   │  │ b8 04 00 00 00 bb 01 00 00 00 b9 0f 00 40 00 ba │ .............@.. │
 │   │  │ 0d 00 00 00 cd 80 e9 c6 ff ff ff                │ ...........      │
 │   │  ╰─────────────────────────────────────────────────┴──────────────────╯
 │   ┴
 │
 │    Symbols:
 │  ╭──────────────────────┬─────────┬───────────┬────────────┬──────────────────╮
 │  │ Name                 │ Type    │ Source    │ Visibility │ Value            │
 │  ├──────────────────────┼─────────┼───────────┼────────────┼──────────────────┤
 │  │ <symbol#0>           │ none    │ <plinky>  │ local      │ <null>           │
 │  ├──────────────────────┼─────────┼───────────┼────────────┼──────────────────┤
 │  │ <section .rodata#6>  │ section │ goodbye.o │ local      │ .rodata#6 + 0x0  │
 │  ├──────────────────────┼─────────┼───────────┼────────────┼──────────────────┤
 │  │ <section .rodata#16> │ section │ hello.o   │ local      │ .rodata#16 + 0x0 │
 │  ├──────────────────────┼─────────┼───────────┼────────────┼──────────────────┤
 │  │ _start#1             │ none    │ hello.o   │ global     │ .text#12 + 0x0   │
 │  ├──────────────────────┼─────────┼───────────┼────────────┼──────────────────┤
 │  │ goodbye#7            │ none    │ goodbye.o │ global     │ .text#2 + 0x0    │
 │  ├──────────────────────┼─────────┼───────────┼────────────┼──────────────────┤
 │  │ len#6                │ none    │ goodbye.o │ local      │ 0xf              │
 │  ├──────────────────────┼─────────┼───────────┼────────────┼──────────────────┤
 │  │ len#12               │ none    │ hello.o   │ local      │ 0xd              │
 │  ├──────────────────────┼─────────┼───────────┼────────────┼──────────────────┤
 │  │ msg#5                │ none    │ goodbye.o │ local      │ .rodata#6 + 0x0  │
 │  ├──────────────────────┼─────────┼───────────┼────────────┼──────────────────┤
 │  │ msg#11               │ none    │ hello.o   │ local      │ .rodata#16 + 0x0 │
 │  ╰──────────────────────┴─────────┴───────────┴────────────┴──────────────────╯
 ┴

debug print: built elf
 │
 │    Metadata:
 │  ╭────────────┬────────────╮
 │  │ Class      │ ELF 32bit  │
 │  ├────────────┼────────────┤
 │  │ Endian     │ Little     │
 │  ├────────────┼────────────┤
 │  │ ABI        │ System V   │
 │  ├────────────┼────────────┤
 │  │ Machine    │ x86        │
 │  ├────────────┼────────────┤
 │  │ Type       │ Executable │
 │  ├────────────┼────────────┤
 │  │ Entrypoint │ 0x40101f   │
 │  ╰────────────┴────────────╯
 │
 │  section #0 (address: 0x0)
 │   │
 │   │  empty section
 │   ┴
 │
 │  section .shstrtab#1 (address: 0x0)
 │   │
 │   │    Strings table:
 │   │  ╭──────┬───────────╮
 │   │  │ 0x0  │           │
 │   │  ├──────┼───────────┤
 │   │  │ 0x1  │ .shstrtab │
 │   │  ├──────┼───────────┤
 │   │  │ 0xb  │ .text     │
 │   │  ├──────┼───────────┤
 │   │  │ 0x11 │ .rodata   │
 │   │  ├──────┼───────────┤
 │   │  │ 0x19 │ .comment  │
 │   │  ├──────┼───────────┤
 │   │  │ 0x22 │ .text     │
 │   │  ├──────┼───────────┤
 │   │  │ 0x28 │ .rodata   │
 │   │  ├──────┼───────────┤
 │   │  │ 0x30 │ .strtab   │
 │   │  ├──────┼───────────┤
 │   │  │ 0x38 │ .symtab   │
 │   │  ╰──────┴───────────╯
 │   ┴
 │
 │  section .text#2 (address: 0x401000)
 │   │
 │   │  program data | permissions: R X
 │   │
 │   │  ╭─────────────────────────────────────────────────┬──────────────────╮
 │   │  │ b8 04 00 00 00 bb 01 00 00 00 b9 00 00 40 00 ba │ .............@.. │
 │   │  │ 0f 00 00 00 cd 80 b0 01 bb 00 00 00 00 cd 80    │ ...............  │
 │   │  ╰─────────────────────────────────────────────────┴──────────────────╯
 │   ┴
 │
 │  section .rodata#3 (address: 0x400000)
 │   │
 │   │  program data | permissions: R
 │   │
 │   │  ╭──────────────────────────────────────────────┬─────────────────╮
 │   │  │ 47 6f 6f 64 62 79 65 20 77 6f 72 6c 64 21 0a │ Goodbye world!. │
 │   │  ╰──────────────────────────────────────────────┴─────────────────╯
 │   ┴
 │
 │  section .comment#4 (address: 0x0)
 │   │
 │   │  program data | permissions: -   | deduplicating zero-terminated strings
 │   │
 │   │  ╭──────────────────────────────────────────────┬─────────────────╮
 │   │  │ 4c 69 6e 6b 65 72 3a 20 70 6c 69 6e 6b 79 00 │ Linker: plinky. │
 │   │  ╰──────────────────────────────────────────────┴─────────────────╯
 │   ┴
 │
 │  section .text#5 (address: 0x40101f)
 │   │
 │   │  program data | permissions: R X
 │   │
 │   │  ╭─────────────────────────────────────────────────┬──────────────────╮
 │   │  │ b8 04 00 00 00 bb 01 00 00 00 b9 0f 00 40 00 ba │ .............@.. │
 │   │  │ 0d 00 00 00 cd 80 e9 c6 ff ff ff                │ ...........      │
 │   │  ╰─────────────────────────────────────────────────┴──────────────────╯
 │   ┴
 │
 │  section .rodata#6 (address: 0x40000f)
 │   │
 │   │  program data | permissions: R
 │   │
 │   │  ╭────────────────────────────────────────┬───────────────╮
 │   │  │ 48 65 6c 6c 6f 20 77 6f 72 6c 64 21 0a │ Hello world!. │
 │   │  ╰────────────────────────────────────────┴───────────────╯
 │   ┴
 │
 │  section .strtab#7 (address: 0x0)
 │   │
 │   │    Strings table:
 │   │  ╭──────┬───────────╮
 │   │  │ 0x0  │           │
 │   │  ├──────┼───────────┤
 │   │  │ 0x1  │           │
 │   │  ├──────┼───────────┤
 │   │  │ 0x2  │ _start    │
 │   │  ├──────┼───────────┤
 │   │  │ 0x9  │ msg       │
 │   │  ├──────┼───────────┤
 │   │  │ 0xd  │ len       │
 │   │  ├──────┼───────────┤
 │   │  │ 0x11 │ goodbye   │
 │   │  ├──────┼───────────┤
 │   │  │ 0x19 │ msg       │
 │   │  ├──────┼───────────┤
 │   │  │ 0x1d │ len       │
 │   │  ├──────┼───────────┤
 │   │  │ 0x21 │ goodbye.S │
 │   │  ├──────┼───────────┤
 │   │  │ 0x2b │ hello.S   │
 │   │  ╰──────┴───────────╯
 │   ┴
 │
 │  section .symtab#8 (address: 0x0)
 │   │
 │   │    Symbol table:
 │   │  ╭─────────────┬─────────┬──────┬────────────┬────────────┬──────────┬──────╮
 │   │  │ Name        │ Binding │ Type │ Visibility │ Definition │ Value    │ Size │
 │   │  ├─────────────┼─────────┼──────┼────────────┼────────────┼──────────┼──────┤
 │   │  │ #0          │ Local   │ -    │ Default    │ Undefined  │ 0x0      │ 0x0  │
 │   │  ├─────────────┼─────────┼──────┼────────────┼────────────┼──────────┼──────┤
 │   │  │ goodbye.S#1 │ Local   │ File │ Default    │ Absolute   │ 0x0      │ 0x0  │
 │   │  ├─────────────┼─────────┼──────┼────────────┼────────────┼──────────┼──────┤
 │   │  │ msg#2       │ Local   │ -    │ Default    │ .rodata#3  │ 0x400000 │ 0x0  │
 │   │  ├─────────────┼─────────┼──────┼────────────┼────────────┼──────────┼──────┤
 │   │  │ len#3       │ Local   │ -    │ Default    │ Absolute   │ 0xf      │ 0x0  │
 │   │  ├─────────────┼─────────┼──────┼────────────┼────────────┼──────────┼──────┤
 │   │  │ hello.S#4   │ Local   │ File │ Default    │ Absolute   │ 0x0      │ 0x0  │
 │   │  ├─────────────┼─────────┼──────┼────────────┼────────────┼──────────┼──────┤
 │   │  │ msg#5       │ Local   │ -    │ Default    │ .rodata#6  │ 0x40000f │ 0x0  │
 │   │  ├─────────────┼─────────┼──────┼────────────┼────────────┼──────────┼──────┤
 │   │  │ len#6       │ Local   │ -    │ Default    │ Absolute   │ 0xd      │ 0x0  │
 │   │  ├─────────────┼─────────┼──────┼────────────┼────────────┼──────────┼──────┤
 │   │  │ _start#7    │ Global  │ -    │ Default    │ .text#5    │ 0x40101f │ 0x0  │
 │   │  ├─────────────┼─────────┼──────┼────────────┼────────────┼──────────┼──────┤
 │   │  │ goodbye#8   │ Global  │ -    │ Default    │ .text#2    │ 0x401000 │ 0x0  │
 │   │  ╰─────────────┴─────────┴──────┴────────────┴────────────┴──────────┴──────╯
 │   ┴
 │
 │    Segments:
 │  ╭───────────┬───────┬──────────┬─────────────┬──────────┬────────────────┬────────────╮
 │  │ Type      │ Perms │ Aligment │ File offset │ File len │ Memory address │ Memory len │
 │  ├───────────┼───────┼──────────┼─────────────┼──────────┼────────────────┼────────────┤
 │  │ Load      │ R     │ 0x1000   │ 0x1000      │ 0x1c     │ 0x400000       │ 0x1c       │
 │  ├───────────┼───────┼──────────┼─────────────┼──────────┼────────────────┼────────────┤
 │  │ Load      │ R X   │ 0x1000   │ 0x2000      │ 0x3a     │ 0x401000       │ 0x3a       │
 │  ├───────────┼───────┼──────────┼─────────────┼──────────┼────────────────┼────────────┤
 │  │ GNU stack │ RW    │ 0x1      │ 0x0         │ 0x0      │ 0x0            │ 0x0        │
 │  ╰───────────┴───────┴──────────┴─────────────┴──────────┴────────────────┴────────────╯
 ┴

==============

running exited with exit status: 0

=== stdout ===
Hello world!
Goodbye world!

no stderr present
