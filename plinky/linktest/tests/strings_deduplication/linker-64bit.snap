---
source: plinky/linktest/harness/main.rs
---
linking exited with exit status: 0

no stdout present

=== stderr ===
debug print: object after relocations are applied
 │
 │  env: ElfEnvironment {
 │      class: Elf64,
 │      endian: Little,
 │      abi: SystemV,
 │      machine: X86_64,
 │  }
 │
 │    deduplication facade .custom_messages#1 in foo.o
 │  ╭──────┬───────────────────────────╮
 │  │ From │ To                        │
 │  ├──────┼───────────────────────────┤
 │  │ 0x0  │ .custom_messages#14 + 0x0 │
 │  ├──────┼───────────────────────────┤
 │  │ 0x6  │ .custom_messages#14 + 0x6 │
 │  ╰──────┴───────────────────────────╯
 │
 │    deduplication facade .custom_messages#8 in bar.o
 │  ╭──────┬───────────────────────────╮
 │  │ From │ To                        │
 │  ├──────┼───────────────────────────┤
 │  │ 0x0  │ .custom_messages#14 + 0xf │
 │  ├──────┼───────────────────────────┤
 │  │ 0x8  │ .custom_messages#14 + 0x6 │
 │  ╰──────┴───────────────────────────╯
 │
 │  section .custom_messages#14 (perms: r) in mix of foo.o and bar.o
 │   │
 │   │  zero-terminated strings should be deduplicated
 │   │
 │   │  address: 0x400000
 │   │
 │   │  ╭─────────────────────────────────────────────────┬──────────────────╮
 │   │  │ 48 65 6c 6c 6f 00 20 77 6f 72 6c 64 21 0a 00 47 │ Hello. world!..G │
 │   │  │ 6f 6f 64 62 79 65 00                            │ oodbye.          │
 │   │  ╰─────────────────────────────────────────────────┴──────────────────╯
 │   ┴
 │
 │  section .text#2 (perms: rx) in foo.o
 │   │
 │   │  address: 0x401000
 │   │
 │   │  ╭─────────────────────────────────────────────────┬──────────────────╮
 │   │  │ b8 04 00 00 00 bb 01 00 00 00 b9 00 00 40 00 ba │ .............@.. │
 │   │  │ 05 00 00 00 cd 80 b8 04 00 00 00 bb 01 00 00 00 │ ................ │
 │   │  │ b9 06 00 40 00 ba 08 00 00 00 cd 80 e9 00 00 00 │ ...@............ │
 │   │  │ 00                                              │ .                │
 │   │  ╰─────────────────────────────────────────────────┴──────────────────╯
 │   ┴
 │
 │  section .text#9 (perms: rx) in bar.o
 │   │
 │   │  address: 0x401031
 │   │
 │   │  ╭─────────────────────────────────────────────────┬──────────────────╮
 │   │  │ b8 04 00 00 00 bb 01 00 00 00 b9 0f 00 40 00 ba │ .............@.. │
 │   │  │ 07 00 00 00 cd 80 b8 04 00 00 00 bb 01 00 00 00 │ ................ │
 │   │  │ b9 06 00 40 00 ba 08 00 00 00 cd 80 b8 01 00 00 │ ...@............ │
 │   │  │ 00 bb 00 00 00 00 cd 80                         │ ........         │
 │   │  ╰─────────────────────────────────────────────────┴──────────────────╯
 │   ┴
 │
 │    Symbols:
 │  ╭──────────────────────────────┬────────┬────────────┬──────────────────────────╮
 │  │ Name                         │ Source │ Visibility │ Value                    │
 │  ├──────────────────────────────┼────────┼────────────┼──────────────────────────┤
 │  │ <symbol#2>                   │ foo.o  │ local      │ <undefined>              │
 │  ├──────────────────────────────┼────────┼────────────┼──────────────────────────┤
 │  │ <section .custom_messages#1> │ foo.o  │ local      │ .custom_messages#1 + 0x0 │
 │  ├──────────────────────────────┼────────┼────────────┼──────────────────────────┤
 │  │ <section .text#2>            │ foo.o  │ local      │ .text#2 + 0x0            │
 │  ├──────────────────────────────┼────────┼────────────┼──────────────────────────┤
 │  │ <symbol#13>                  │ bar.o  │ local      │ <undefined>              │
 │  ├──────────────────────────────┼────────┼────────────┼──────────────────────────┤
 │  │ <section .custom_messages#8> │ bar.o  │ local      │ .custom_messages#8 + 0x0 │
 │  ├──────────────────────────────┼────────┼────────────┼──────────────────────────┤
 │  │ <section .text#9>            │ bar.o  │ local      │ .text#9 + 0x0            │
 │  ├──────────────────────────────┼────────┼────────────┼──────────────────────────┤
 │  │ _start#1                     │ foo.o  │ global     │ .text#2 + 0x0            │
 │  ├──────────────────────────────┼────────┼────────────┼──────────────────────────┤
 │  │ bar#12                       │ bar.o  │ global     │ .text#9 + 0x0            │
 │  ├──────────────────────────────┼────────┼────────────┼──────────────────────────┤
 │  │ bar_end#19                   │ bar.o  │ local      │ .custom_messages#8 + 0x8 │
 │  ├──────────────────────────────┼────────┼────────────┼──────────────────────────┤
 │  │ bar_end_len#20               │ bar.o  │ local      │ 0x8                      │
 │  ├──────────────────────────────┼────────┼────────────┼──────────────────────────┤
 │  │ foo_end#8                    │ foo.o  │ local      │ .custom_messages#1 + 0x6 │
 │  ├──────────────────────────────┼────────┼────────────┼──────────────────────────┤
 │  │ foo_end_len#9                │ foo.o  │ local      │ 0x8                      │
 │  ├──────────────────────────────┼────────┼────────────┼──────────────────────────┤
 │  │ goodbye#17                   │ bar.o  │ local      │ .custom_messages#8 + 0x0 │
 │  ├──────────────────────────────┼────────┼────────────┼──────────────────────────┤
 │  │ goodbye_len#18               │ bar.o  │ local      │ 0x7                      │
 │  ├──────────────────────────────┼────────┼────────────┼──────────────────────────┤
 │  │ hello#6                      │ foo.o  │ local      │ .custom_messages#1 + 0x0 │
 │  ├──────────────────────────────┼────────┼────────────┼──────────────────────────┤
 │  │ hello_len#7                  │ foo.o  │ local      │ 0x5                      │
 │  ╰──────────────────────────────┴────────┴────────────┴──────────────────────────╯
 ┴

debug print: built elf
 │
 │  ElfObject {
 │      env: ElfEnvironment {
 │          class: Elf64,
 │          endian: Little,
 │          abi: SystemV,
 │          machine: X86_64,
 │      },
 │      type_: Executable,
 │      entry: Some(
 │          0x401000,
 │      ),
 │      sections: {
 │          section#0: ElfSection {
 │              name: section#1:string#0,
 │              memory_address: 0x0,
 │              content: Null,
 │          },
 │          section#1: ElfSection {
 │              name: section#1:string#24,
 │              memory_address: 0x0,
 │              content: StringTable(
 │                  ElfStringTable {
 │                      strings: {
 │                          0x0: "",
 │                          0x1: ".custom_messages",
 │                          0x12: ".text",
 │                          0x18: ".shstrtab",
 │                      },
 │                  },
 │              ),
 │          },
 │          section#2: ElfSection {
 │              name: section#1:string#1,
 │              memory_address: 0x400000,
 │              content: Program(
 │                  ElfProgramSection {
 │                      perms: ElfPermissions(R),
 │                      deduplication: ZeroTerminatedStrings,
 │                      raw: RawBytes {
 │                               ?0 ?1 ?2 ?3 ?4 ?5 ?6 ?7 ?8 ?9 ?a ?b ?c ?d ?e ?f   (len: 0x17)
 │                             +-------------------------------------------------+
 │                          0? | 48 65 6c 6c 6f 00 20 77 6f 72 6c 64 21 0a 00 47 | Hello. world!..G
 │                          1? | 6f 6f 64 62 79 65 00                            | oodbye.
 │                      },
 │                  },
 │              ),
 │          },
 │          section#3: ElfSection {
 │              name: section#1:string#18,
 │              memory_address: 0x401000,
 │              content: Program(
 │                  ElfProgramSection {
 │                      perms: ElfPermissions(RX),
 │                      deduplication: Disabled,
 │                      raw: RawBytes {
 │                               ?0 ?1 ?2 ?3 ?4 ?5 ?6 ?7 ?8 ?9 ?a ?b ?c ?d ?e ?f   (len: 0x69)
 │                             +-------------------------------------------------+
 │                          0? | b8 04 00 00 00 bb 01 00 00 00 b9 00 00 40 00 ba | .............@..
 │                          1? | 05 00 00 00 cd 80 b8 04 00 00 00 bb 01 00 00 00 | ................
 │                          2? | b9 06 00 40 00 ba 08 00 00 00 cd 80 e9 00 00 00 | ...@............
 │                          3? | 00 b8 04 00 00 00 bb 01 00 00 00 b9 0f 00 40 00 | ..............@.
 │                          4? | ba 07 00 00 00 cd 80 b8 04 00 00 00 bb 01 00 00 | ................
 │                          5? | 00 b9 06 00 40 00 ba 08 00 00 00 cd 80 b8 01 00 | ....@...........
 │                          6? | 00 00 bb 00 00 00 00 cd 80                      | .........
 │                      },
 │                  },
 │              ),
 │          },
 │      },
 │      segments: [
 │          ElfSegment {
 │              type_: Load,
 │              perms: ElfPermissions(R),
 │              content: [
 │                  Section(
 │                      section#2,
 │                  ),
 │              ],
 │              align: 0x1000,
 │          },
 │          ElfSegment {
 │              type_: Load,
 │              perms: ElfPermissions(RX),
 │              content: [
 │                  Section(
 │                      section#3,
 │                  ),
 │              ],
 │              align: 0x1000,
 │          },
 │      ],
 │  }
 ┴



