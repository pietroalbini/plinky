---
source: plinky/linktest/harness/main.rs
---
linking exited with exit status: 0

no stdout present

=== stderr ===
debug print: loaded object
 │
 │  class: Elf64, endian: Little, abi: SystemV, machine: X86_64
 │
 │  uninitialized section .bss#1 (perms: rw) in bss.o
 │   │
 │   │  length: 0x6
 │   ┴
 │
 │  section .comment#7 (no perms) in <plinky>
 │   │
 │   │  zero-terminated strings should be deduplicated
 │   │
 │   │  ╭──────────────────────────────────────────────┬─────────────────╮
 │   │  │ 4c 69 6e 6b 65 72 3a 20 70 6c 69 6e 6b 79 00 │ Linker: plinky. │
 │   │  ╰──────────────────────────────────────────────┴─────────────────╯
 │   ┴
 │
 │  section .text#2 (perms: rx) in bss.o
 │   │
 │   │  ╭─────────────────────────────────────────────────┬──────────────────╮
 │   │  │ c6 04 25 00 00 00 00 68 c6 04 25 00 00 00 00 65 │ ..%....h..%....e │
 │   │  │ c6 04 25 00 00 00 00 6c c6 04 25 00 00 00 00 6c │ ..%....l..%....l │
 │   │  │ c6 04 25 00 00 00 00 6f c6 04 25 00 00 00 00 0a │ ..%....o..%..... │
 │   │  │ b8 04 00 00 00 bb 01 00 00 00 b9 00 00 00 00 ba │ ................ │
 │   │  │ 06 00 00 00 cd 80 b8 01 00 00 00 bb 00 00 00 00 │ ................ │
 │   │  │ cd 80                                           │ ..               │
 │   │  ╰─────────────────────────────────────────────────┴──────────────────╯
 │   │
 │   │    Relocations:
 │   │  ╭────────────┬──────────────────┬────────┬────────╮
 │   │  │ Type       │ Symbol           │ Offset │ Addend │
 │   │  ├────────────┼──────────────────┼────────┼────────┤
 │   │  │ X86_64_32S │ <section .bss#1> │ 0x3    │ 0x0    │
 │   │  ├────────────┼──────────────────┼────────┼────────┤
 │   │  │ X86_64_32S │ <section .bss#1> │ 0xb    │ 0x1    │
 │   │  ├────────────┼──────────────────┼────────┼────────┤
 │   │  │ X86_64_32S │ <section .bss#1> │ 0x13   │ 0x2    │
 │   │  ├────────────┼──────────────────┼────────┼────────┤
 │   │  │ X86_64_32S │ <section .bss#1> │ 0x1b   │ 0x3    │
 │   │  ├────────────┼──────────────────┼────────┼────────┤
 │   │  │ X86_64_32S │ <section .bss#1> │ 0x23   │ 0x4    │
 │   │  ├────────────┼──────────────────┼────────┼────────┤
 │   │  │ X86_64_32S │ <section .bss#1> │ 0x2b   │ 0x5    │
 │   │  ├────────────┼──────────────────┼────────┼────────┤
 │   │  │ X86_64_32  │ <section .bss#1> │ 0x3b   │ 0x0    │
 │   │  ╰────────────┴──────────────────┴────────┴────────╯
 │   ┴
 │
 │    Symbols:
 │  ╭───────────────────┬────────┬────────────┬───────────────╮
 │  │ Name              │ Source │ Visibility │ Value         │
 │  ├───────────────────┼────────┼────────────┼───────────────┤
 │  │ <symbol#2>        │ bss.o  │ local      │ <undefined>   │
 │  ├───────────────────┼────────┼────────────┼───────────────┤
 │  │ <section .bss#1>  │ bss.o  │ local      │ .bss#1 + 0x0  │
 │  ├───────────────────┼────────┼────────────┼───────────────┤
 │  │ <section .text#2> │ bss.o  │ local      │ .text#2 + 0x0 │
 │  ├───────────────────┼────────┼────────────┼───────────────┤
 │  │ _start#1          │ bss.o  │ global     │ .text#2 + 0x0 │
 │  ├───────────────────┼────────┼────────────┼───────────────┤
 │  │ hello#6           │ bss.o  │ local      │ .bss#1 + 0x0  │
 │  ├───────────────────┼────────┼────────────┼───────────────┤
 │  │ hello_len#7       │ bss.o  │ local      │ 0x6           │
 │  ╰───────────────────┴────────┴────────────┴───────────────╯
 ┴

debug print: calculated layout
 │
 │    Sections:
 │  ╭────────────┬───────────────┬────────────────╮
 │  │ Section    │ Source object │ Memory address │
 │  ├────────────┼───────────────┼────────────────┤
 │  │ .text#2    │ bss.o         │ 0x400000       │
 │  ├────────────┼───────────────┼────────────────┤
 │  │ .bss#1     │ bss.o         │ 0x401000       │
 │  ├────────────┼───────────────┼────────────────┤
 │  │ .comment#8 │ <plinky>      │ not allocated  │
 │  ╰────────────┴───────────────┴────────────────╯
 │
 │    Segments:
 │  ╭──────────┬──────┬────────┬─────────┬────────────────────┬──────────╮
 │  │ Start    │ Size │ Align  │ Type    │ Permissions        │ Sections │
 │  ├──────────┼──────┼────────┼─────────┼────────────────────┼──────────┤
 │  │ 0x400000 │ 0x52 │ 0x1000 │ program │ ElfPermissions(RX) │ .text#2  │
 │  ├──────────┼──────┼────────┼─────────┼────────────────────┼──────────┤
 │  │ 0x401000 │ 0x6  │ 0x1000 │ uninit  │ ElfPermissions(RW) │ .bss#1   │
 │  ╰──────────┴──────┴────────┴─────────┴────────────────────┴──────────╯
 │
 │    deduplication facade .comment#7 in <plinky>
 │  ╭──────┬──────────────────╮
 │  │ From │ To               │
 │  ├──────┼──────────────────┤
 │  │ 0x0  │ .comment#8 + 0x0 │
 │  ╰──────┴──────────────────╯
 ┴

debug print: built elf
 │
 │  ElfObject {
 │      env: ElfEnvironment {
 │          class: Elf64,
 │          endian: Little,
 │          abi: SystemV,
 │          machine: X86_64,
 │      },
 │      type_: Executable,
 │      entry: Some(
 │          0x400000,
 │      ),
 │      sections: {
 │          section#0: ElfSection {
 │              name: section#1:string#0,
 │              memory_address: 0x0,
 │              content: Null,
 │          },
 │          section#1: ElfSection {
 │              name: section#1:string#21,
 │              memory_address: 0x0,
 │              content: StringTable(
 │                  ElfStringTable {
 │                      strings: {
 │                          0x0: "",
 │                          0x1: ".bss",
 │                          0x6: ".text",
 │                          0xc: ".comment",
 │                          0x15: ".shstrtab",
 │                      },
 │                  },
 │              ),
 │          },
 │          section#2: ElfSection {
 │              name: section#1:string#1,
 │              memory_address: 0x401000,
 │              content: Uninitialized(
 │                  ElfUninitializedSection {
 │                      perms: ElfPermissions(RW),
 │                      len: 0x6,
 │                  },
 │              ),
 │          },
 │          section#3: ElfSection {
 │              name: section#1:string#6,
 │              memory_address: 0x400000,
 │              content: Program(
 │                  ElfProgramSection {
 │                      perms: ElfPermissions(RX),
 │                      deduplication: Disabled,
 │                      raw: RawBytes {
 │                               ?0 ?1 ?2 ?3 ?4 ?5 ?6 ?7 ?8 ?9 ?a ?b ?c ?d ?e ?f   (len: 0x52)
 │                             +-------------------------------------------------+
 │                          0? | c6 04 25 00 10 40 00 68 c6 04 25 01 10 40 00 65 | ..%..@.h..%..@.e
 │                          1? | c6 04 25 02 10 40 00 6c c6 04 25 03 10 40 00 6c | ..%..@.l..%..@.l
 │                          2? | c6 04 25 04 10 40 00 6f c6 04 25 05 10 40 00 0a | ..%..@.o..%..@..
 │                          3? | b8 04 00 00 00 bb 01 00 00 00 b9 00 10 40 00 ba | .............@..
 │                          4? | 06 00 00 00 cd 80 b8 01 00 00 00 bb 00 00 00 00 | ................
 │                          5? | cd 80                                           | ..
 │                      },
 │                  },
 │              ),
 │          },
 │          section#4: ElfSection {
 │              name: section#1:string#12,
 │              memory_address: 0x0,
 │              content: Program(
 │                  ElfProgramSection {
 │                      perms: ElfPermissions(),
 │                      deduplication: ZeroTerminatedStrings,
 │                      raw: RawBytes {
 │                               ?0 ?1 ?2 ?3 ?4 ?5 ?6 ?7 ?8 ?9 ?a ?b ?c ?d ?e   (len: 0xf)
 │                             +----------------------------------------------+
 │                          0? | 4c 69 6e 6b 65 72 3a 20 70 6c 69 6e 6b 79 00 | Linker: plinky.
 │                      },
 │                  },
 │              ),
 │          },
 │      },
 │      segments: [
 │          ElfSegment {
 │              type_: Load,
 │              perms: ElfPermissions(RX),
 │              content: [
 │                  Section(
 │                      section#3,
 │                  ),
 │              ],
 │              align: 0x1000,
 │          },
 │          ElfSegment {
 │              type_: Load,
 │              perms: ElfPermissions(RW),
 │              content: [
 │                  Section(
 │                      section#2,
 │                  ),
 │              ],
 │              align: 0x1000,
 │          },
 │          ElfSegment {
 │              type_: GnuStack,
 │              perms: ElfPermissions(RW),
 │              content: [],
 │              align: 0x1,
 │          },
 │      ],
 │  }
 ┴



