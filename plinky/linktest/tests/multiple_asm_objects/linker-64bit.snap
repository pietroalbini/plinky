---
source: plinky/linktest/harness/main.rs
---
linking exited with exit status: 0

no stdout present

=== stderr ===
debug print: loaded object
 │
 │  env: ElfEnvironment {
 │      class: Elf64,
 │      endian: Little,
 │      abi: SystemV,
 │      machine: X86_64,
 │  }
 │
 │   │
 │   │  section .rodata(section#1) in goodbye.o
 │   │
 │   │  DataSectionPartReal {
 │   │      source: goodbye.o,
 │   │      bytes: RawBytes {
 │   │               ?0 ?1 ?2 ?3 ?4 ?5 ?6 ?7 ?8 ?9 ?a ?b ?c ?d ?e   (len: 0xf)
 │   │             +----------------------------------------------+
 │   │          0? | 47 6f 6f 64 62 79 65 20 77 6f 72 6c 64 21 0a | Goodbye world!.
 │   │      },
 │   │      relocations: [],
 │   │      layout: (),
 │   │  }
 │   ┴
 │
 │   │
 │   │  section .rodata(section#8) in hello.o
 │   │
 │   │  DataSectionPartReal {
 │   │      source: hello.o,
 │   │      bytes: RawBytes {
 │   │               ?0 ?1 ?2 ?3 ?4 ?5 ?6 ?7 ?8 ?9 ?a ?b ?c   (len: 0xd)
 │   │             +----------------------------------------+
 │   │          0? | 48 65 6c 6c 6f 20 77 6f 72 6c 64 21 0a | Hello world!.
 │   │      },
 │   │      relocations: [],
 │   │      layout: (),
 │   │  }
 │   ┴
 │
 │   │
 │   │  section .text(section#2) in goodbye.o
 │   │
 │   │  DataSectionPartReal {
 │   │      source: goodbye.o,
 │   │      bytes: RawBytes {
 │   │               ?0 ?1 ?2 ?3 ?4 ?5 ?6 ?7 ?8 ?9 ?a ?b ?c ?d ?e ?f   (len: 0x1f)
 │   │             +-------------------------------------------------+
 │   │          0? | b8 04 00 00 00 bb 01 00 00 00 b9 00 00 00 00 ba | ................
 │   │          1? | 0f 00 00 00 cd 80 b0 01 bb 00 00 00 00 cd 80    | ...............
 │   │      },
 │   │      relocations: [
 │   │          ElfRelocation {
 │   │              offset: 11,
 │   │              symbol: symbol#2,
 │   │              relocation_type: X86_64_32,
 │   │              addend: Some(
 │   │                  0,
 │   │              ),
 │   │          },
 │   │      ],
 │   │      layout: (),
 │   │  }
 │   ┴
 │
 │   │
 │   │  section .text(section#9) in hello.o
 │   │
 │   │  DataSectionPartReal {
 │   │      source: hello.o,
 │   │      bytes: RawBytes {
 │   │               ?0 ?1 ?2 ?3 ?4 ?5 ?6 ?7 ?8 ?9 ?a ?b ?c ?d ?e ?f   (len: 0x1b)
 │   │             +-------------------------------------------------+
 │   │          0? | b8 04 00 00 00 bb 01 00 00 00 b9 00 00 00 00 ba | ................
 │   │          1? | 0d 00 00 00 cd 80 e9 00 00 00 00                | ...........
 │   │      },
 │   │      relocations: [
 │   │          ElfRelocation {
 │   │              offset: 11,
 │   │              symbol: symbol#9,
 │   │              relocation_type: X86_64_32,
 │   │              addend: Some(
 │   │                  0,
 │   │              ),
 │   │          },
 │   │          ElfRelocation {
 │   │              offset: 23,
 │   │              symbol: symbol#13,
 │   │              relocation_type: X86_64_PC32,
 │   │              addend: Some(
 │   │                  -4,
 │   │              ),
 │   │          },
 │   │      ],
 │   │      layout: (),
 │   │  }
 │   ┴
 │
 │    Symbols:
 │  ╭─────────┬───────────┬────────────┬──────────────────────────╮
 │  │ Name    │ Source    │ Visibility │ Value                    │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │         │ goodbye.o │ local      │ <undefined>              │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │         │ goodbye.o │ local      │ .rodata(section#1) + 0x0 │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │         │ goodbye.o │ local      │ .text(section#2) + 0x0   │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │         │ hello.o   │ local      │ <undefined>              │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │         │ hello.o   │ local      │ .rodata(section#8) + 0x0 │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │         │ hello.o   │ local      │ .text(section#9) + 0x0   │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │ _start  │ hello.o   │ global     │ .text(section#9) + 0x0   │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │ goodbye │ goodbye.o │ global     │ .text(section#2) + 0x0   │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │ len     │ goodbye.o │ local      │ 0xf                      │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │ len     │ hello.o   │ local      │ 0xd                      │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │ msg     │ goodbye.o │ local      │ .rodata(section#1) + 0x0 │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │ msg     │ hello.o   │ local      │ .rodata(section#8) + 0x0 │
 │  ╰─────────┴───────────┴────────────┴──────────────────────────╯
 ┴

debug print: calculated layout
 │
 │  ╭─────────────┬──────────────┬───────────────┬────────────────╮
 │  │ Internal ID │ Section name │ Source object │ Memory address │
 │  ├─────────────┼──────────────┼───────────────┼────────────────┤
 │  │ section#1   │ .rodata      │ goodbye.o     │ 0x400000       │
 │  ├─────────────┼──────────────┼───────────────┼────────────────┤
 │  │ section#8   │ .rodata      │ hello.o       │ 0x40000f       │
 │  ├─────────────┼──────────────┼───────────────┼────────────────┤
 │  │ section#2   │ .text        │ goodbye.o     │ 0x401000       │
 │  ├─────────────┼──────────────┼───────────────┼────────────────┤
 │  │ section#9   │ .text        │ hello.o       │ 0x40101f       │
 │  ╰─────────────┴──────────────┴───────────────┴────────────────╯
 ┴

debug print: object after relocations are applied
 │
 │  env: ElfEnvironment {
 │      class: Elf64,
 │      endian: Little,
 │      abi: SystemV,
 │      machine: X86_64,
 │  }
 │
 │   │
 │   │  section .rodata(section#1) in goodbye.o
 │   │
 │   │  DataSectionPartReal {
 │   │      source: goodbye.o,
 │   │      bytes: RawBytes {
 │   │               ?0 ?1 ?2 ?3 ?4 ?5 ?6 ?7 ?8 ?9 ?a ?b ?c ?d ?e   (len: 0xf)
 │   │             +----------------------------------------------+
 │   │          0? | 47 6f 6f 64 62 79 65 20 77 6f 72 6c 64 21 0a | Goodbye world!.
 │   │      },
 │   │      relocations: [],
 │   │      layout: SectionLayout {
 │   │          address: 4194304,
 │   │      },
 │   │  }
 │   ┴
 │
 │   │
 │   │  section .rodata(section#8) in hello.o
 │   │
 │   │  DataSectionPartReal {
 │   │      source: hello.o,
 │   │      bytes: RawBytes {
 │   │               ?0 ?1 ?2 ?3 ?4 ?5 ?6 ?7 ?8 ?9 ?a ?b ?c   (len: 0xd)
 │   │             +----------------------------------------+
 │   │          0? | 48 65 6c 6c 6f 20 77 6f 72 6c 64 21 0a | Hello world!.
 │   │      },
 │   │      relocations: [],
 │   │      layout: SectionLayout {
 │   │          address: 4194319,
 │   │      },
 │   │  }
 │   ┴
 │
 │   │
 │   │  section .text(section#2) in goodbye.o
 │   │
 │   │  DataSectionPartReal {
 │   │      source: goodbye.o,
 │   │      bytes: RawBytes {
 │   │               ?0 ?1 ?2 ?3 ?4 ?5 ?6 ?7 ?8 ?9 ?a ?b ?c ?d ?e ?f   (len: 0x1f)
 │   │             +-------------------------------------------------+
 │   │          0? | b8 04 00 00 00 bb 01 00 00 00 b9 00 00 40 00 ba | .............@..
 │   │          1? | 0f 00 00 00 cd 80 b0 01 bb 00 00 00 00 cd 80    | ...............
 │   │      },
 │   │      relocations: [],
 │   │      layout: SectionLayout {
 │   │          address: 4198400,
 │   │      },
 │   │  }
 │   ┴
 │
 │   │
 │   │  section .text(section#9) in hello.o
 │   │
 │   │  DataSectionPartReal {
 │   │      source: hello.o,
 │   │      bytes: RawBytes {
 │   │               ?0 ?1 ?2 ?3 ?4 ?5 ?6 ?7 ?8 ?9 ?a ?b ?c ?d ?e ?f   (len: 0x1b)
 │   │             +-------------------------------------------------+
 │   │          0? | b8 04 00 00 00 bb 01 00 00 00 b9 0f 00 40 00 ba | .............@..
 │   │          1? | 0d 00 00 00 cd 80 e9 c6 ff ff ff                | ...........
 │   │      },
 │   │      relocations: [],
 │   │      layout: SectionLayout {
 │   │          address: 4198431,
 │   │      },
 │   │  }
 │   ┴
 │
 │    Symbols:
 │  ╭─────────┬───────────┬────────────┬──────────────────────────╮
 │  │ Name    │ Source    │ Visibility │ Value                    │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │         │ goodbye.o │ local      │ <undefined>              │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │         │ goodbye.o │ local      │ .rodata(section#1) + 0x0 │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │         │ goodbye.o │ local      │ .text(section#2) + 0x0   │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │         │ hello.o   │ local      │ <undefined>              │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │         │ hello.o   │ local      │ .rodata(section#8) + 0x0 │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │         │ hello.o   │ local      │ .text(section#9) + 0x0   │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │ _start  │ hello.o   │ global     │ .text(section#9) + 0x0   │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │ goodbye │ goodbye.o │ global     │ .text(section#2) + 0x0   │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │ len     │ goodbye.o │ local      │ 0xf                      │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │ len     │ hello.o   │ local      │ 0xd                      │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │ msg     │ goodbye.o │ local      │ .rodata(section#1) + 0x0 │
 │  ├─────────┼───────────┼────────────┼──────────────────────────┤
 │  │ msg     │ hello.o   │ local      │ .rodata(section#8) + 0x0 │
 │  ╰─────────┴───────────┴────────────┴──────────────────────────╯
 ┴

debug print: built elf
 │
 │  ElfObject {
 │      env: ElfEnvironment {
 │          class: Elf64,
 │          endian: Little,
 │          abi: SystemV,
 │          machine: X86_64,
 │      },
 │      type_: Executable,
 │      entry: Some(
 │          0x40101f,
 │      ),
 │      sections: {
 │          section#0: ElfSection {
 │              name: section#1:string#0,
 │              memory_address: 0x0,
 │              content: Null,
 │          },
 │          section#1: ElfSection {
 │              name: section#1:string#15,
 │              memory_address: 0x0,
 │              content: StringTable(
 │                  ElfStringTable {
 │                      strings: {
 │                          0x0: "",
 │                          0x1: ".rodata",
 │                          0x9: ".text",
 │                          0xf: ".shstrtab",
 │                      },
 │                  },
 │              ),
 │          },
 │          section#2: ElfSection {
 │              name: section#1:string#1,
 │              memory_address: 0x400000,
 │              content: Program(
 │                  ElfProgramSection {
 │                      perms: ElfPermissions(R),
 │                      deduplication: Disabled,
 │                      raw: RawBytes {
 │                               ?0 ?1 ?2 ?3 ?4 ?5 ?6 ?7 ?8 ?9 ?a ?b ?c ?d ?e ?f   (len: 0x1c)
 │                             +-------------------------------------------------+
 │                          0? | 47 6f 6f 64 62 79 65 20 77 6f 72 6c 64 21 0a 48 | Goodbye world!.H
 │                          1? | 65 6c 6c 6f 20 77 6f 72 6c 64 21 0a             | ello world!.
 │                      },
 │                  },
 │              ),
 │          },
 │          section#3: ElfSection {
 │              name: section#1:string#9,
 │              memory_address: 0x401000,
 │              content: Program(
 │                  ElfProgramSection {
 │                      perms: ElfPermissions(RX),
 │                      deduplication: Disabled,
 │                      raw: RawBytes {
 │                               ?0 ?1 ?2 ?3 ?4 ?5 ?6 ?7 ?8 ?9 ?a ?b ?c ?d ?e ?f   (len: 0x3a)
 │                             +-------------------------------------------------+
 │                          0? | b8 04 00 00 00 bb 01 00 00 00 b9 00 00 40 00 ba | .............@..
 │                          1? | 0f 00 00 00 cd 80 b0 01 bb 00 00 00 00 cd 80 b8 | ................
 │                          2? | 04 00 00 00 bb 01 00 00 00 b9 0f 00 40 00 ba 0d | ............@...
 │                          3? | 00 00 00 cd 80 e9 c6 ff ff ff                   | ..........
 │                      },
 │                  },
 │              ),
 │          },
 │      },
 │      segments: [
 │          ElfSegment {
 │              type_: Load,
 │              perms: ElfPermissions(R),
 │              content: [
 │                  Section(
 │                      section#2,
 │                  ),
 │              ],
 │              align: 0x1000,
 │          },
 │          ElfSegment {
 │              type_: Load,
 │              perms: ElfPermissions(RX),
 │              content: [
 │                  Section(
 │                      section#3,
 │                  ),
 │              ],
 │              align: 0x1000,
 │          },
 │      ],
 │  }
 ┴



