---
source: plinky_test_harness/src/utils.rs
---
linking exited with exit status: 0

no stdout present

=== stderr ===
debug print: loaded object
 │
 │  class: Elf64, endian: Little, abi: SystemV, machine: X86_64
 │
 │  section .comment#8 (no perms) in <plinky>
 │   │
 │   │  zero-terminated strings should be deduplicated
 │   │
 │   │  ╭──────────────────────────────────────────────┬─────────────────╮
 │   │  │ 4c 69 6e 6b 65 72 3a 20 70 6c 69 6e 6b 79 00 │ Linker: plinky. │
 │   │  ╰──────────────────────────────────────────────┴─────────────────╯
 │   ┴
 │
 │  section .data#3 (perms: rw) in hello.o
 │   │
 │   │  ╭────────────────────────────────────────┬───────────────╮
 │   │  │ 48 65 6c 6c 6f 20 77 6f 72 6c 64 21 0a │ Hello world!. │
 │   │  ╰────────────────────────────────────────┴───────────────╯
 │   ┴
 │
 │  section .text#1 (perms: rx) in hello.o
 │   │
 │   │  ╭─────────────────────────────────────────────────┬──────────────────╮
 │   │  │ b8 04 00 00 00 bb 01 00 00 00 b9 00 00 00 00 ba │ ................ │
 │   │  │ 0d 00 00 00 cd 80 b0 01 bb 00 00 00 00 cd 80    │ ...............  │
 │   │  ╰─────────────────────────────────────────────────┴──────────────────╯
 │   │
 │   │    Relocations:
 │   │  ╭────────────┬───────────────────┬────────┬────────╮
 │   │  │ Type       │ Symbol            │ Offset │ Addend │
 │   │  ├────────────┼───────────────────┼────────┼────────┤
 │   │  │ Absolute32 │ <section .data#3> │ 0xb    │ 0x0    │
 │   │  ╰────────────┴───────────────────┴────────┴────────╯
 │   ┴
 │
 │    Symbols:
 │  ╭───────────────────┬─────────┬──────────┬────────────┬───────────────╮
 │  │ Name              │ Type    │ Source   │ Visibility │ Value         │
 │  ├───────────────────┼─────────┼──────────┼────────────┼───────────────┤
 │  │ <symbol#0>        │ none    │ <plinky> │ local      │ <null>        │
 │  ├───────────────────┼─────────┼──────────┼────────────┼───────────────┤
 │  │ <section .data#3> │ section │ hello.o  │ local      │ .data#3 + 0x0 │
 │  ├───────────────────┼─────────┼──────────┼────────────┼───────────────┤
 │  │ _start#1          │ none    │ hello.o  │ global     │ .text#1 + 0x0 │
 │  ├───────────────────┼─────────┼──────────┼────────────┼───────────────┤
 │  │ len#6             │ none    │ hello.o  │ local      │ 0xd           │
 │  ├───────────────────┼─────────┼──────────┼────────────┼───────────────┤
 │  │ msg#5             │ none    │ hello.o  │ local      │ .data#3 + 0x0 │
 │  ╰───────────────────┴─────────┴──────────┴────────────┴───────────────╯
 ┴

debug print: calculated layout
 │
 │    Sections:
 │  ╭────────────┬───────────────┬────────────────╮
 │  │ Section    │ Source object │ Memory address │
 │  ├────────────┼───────────────┼────────────────┤
 │  │ .text#1    │ hello.o       │ 0x400000       │
 │  ├────────────┼───────────────┼────────────────┤
 │  │ .data#3    │ hello.o       │ 0x401000       │
 │  ├────────────┼───────────────┼────────────────┤
 │  │ .comment#8 │ <plinky>      │ not allocated  │
 │  ╰────────────┴───────────────┴────────────────╯
 │
 │    Segments:
 │  ╭──────────┬────────┬─────────┬────────────────────┬──────────╮
 │  │ Start    │ Align  │ Type    │ Permissions        │ Sections │
 │  ├──────────┼────────┼─────────┼────────────────────┼──────────┤
 │  │ 0x400000 │ 0x1000 │ program │ ElfPermissions(RX) │ .text#1  │
 │  ├──────────┼────────┼─────────┼────────────────────┼──────────┤
 │  │ 0x401000 │ 0x1000 │ program │ ElfPermissions(RW) │ .data#3  │
 │  ╰──────────┴────────┴─────────┴────────────────────┴──────────╯
 ┴

debug print: object after relocations are applied
 │
 │  class: Elf64, endian: Little, abi: SystemV, machine: X86_64
 │
 │  section .comment#8 (no perms) in <plinky>
 │   │
 │   │  zero-terminated strings should be deduplicated
 │   │
 │   │  not allocated in the resulting memory
 │   │
 │   │  ╭──────────────────────────────────────────────┬─────────────────╮
 │   │  │ 4c 69 6e 6b 65 72 3a 20 70 6c 69 6e 6b 79 00 │ Linker: plinky. │
 │   │  ╰──────────────────────────────────────────────┴─────────────────╯
 │   ┴
 │
 │  section .data#3 (perms: rw) in hello.o
 │   │
 │   │  address: 0x401000
 │   │
 │   │  ╭────────────────────────────────────────┬───────────────╮
 │   │  │ 48 65 6c 6c 6f 20 77 6f 72 6c 64 21 0a │ Hello world!. │
 │   │  ╰────────────────────────────────────────┴───────────────╯
 │   ┴
 │
 │  section .text#1 (perms: rx) in hello.o
 │   │
 │   │  address: 0x400000
 │   │
 │   │  ╭─────────────────────────────────────────────────┬──────────────────╮
 │   │  │ b8 04 00 00 00 bb 01 00 00 00 b9 00 10 40 00 ba │ .............@.. │
 │   │  │ 0d 00 00 00 cd 80 b0 01 bb 00 00 00 00 cd 80    │ ...............  │
 │   │  ╰─────────────────────────────────────────────────┴──────────────────╯
 │   ┴
 │
 │    Symbols:
 │  ╭───────────────────┬─────────┬──────────┬────────────┬───────────────╮
 │  │ Name              │ Type    │ Source   │ Visibility │ Value         │
 │  ├───────────────────┼─────────┼──────────┼────────────┼───────────────┤
 │  │ <symbol#0>        │ none    │ <plinky> │ local      │ <null>        │
 │  ├───────────────────┼─────────┼──────────┼────────────┼───────────────┤
 │  │ <section .data#3> │ section │ hello.o  │ local      │ .data#3 + 0x0 │
 │  ├───────────────────┼─────────┼──────────┼────────────┼───────────────┤
 │  │ _start#1          │ none    │ hello.o  │ global     │ .text#1 + 0x0 │
 │  ├───────────────────┼─────────┼──────────┼────────────┼───────────────┤
 │  │ len#6             │ none    │ hello.o  │ local      │ 0xd           │
 │  ├───────────────────┼─────────┼──────────┼────────────┼───────────────┤
 │  │ msg#5             │ none    │ hello.o  │ local      │ .data#3 + 0x0 │
 │  ╰───────────────────┴─────────┴──────────┴────────────┴───────────────╯
 ┴

debug print: built elf
 │
 │    Metadata:
 │  ╭────────────┬────────────╮
 │  │ Class      │ ELF 64bit  │
 │  ├────────────┼────────────┤
 │  │ Endian     │ Little     │
 │  ├────────────┼────────────┤
 │  │ ABI        │ System V   │
 │  ├────────────┼────────────┤
 │  │ Machine    │ x86-64     │
 │  ├────────────┼────────────┤
 │  │ Type       │ Executable │
 │  ├────────────┼────────────┤
 │  │ Entrypoint │ 0x400000   │
 │  ╰────────────┴────────────╯
 │
 │  section #0 (address: 0x0)
 │   │
 │   │  empty section
 │   ┴
 │
 │  section .shstrtab#1 (address: 0x0)
 │   │
 │   │    Strings table:
 │   │  ╭──────┬───────────╮
 │   │  │ 0x0  │           │
 │   │  ├──────┼───────────┤
 │   │  │ 0x1  │ .text     │
 │   │  ├──────┼───────────┤
 │   │  │ 0x7  │ .data     │
 │   │  ├──────┼───────────┤
 │   │  │ 0xd  │ .comment  │
 │   │  ├──────┼───────────┤
 │   │  │ 0x16 │ .symtab   │
 │   │  ├──────┼───────────┤
 │   │  │ 0x1e │ .strtab   │
 │   │  ├──────┼───────────┤
 │   │  │ 0x26 │ .shstrtab │
 │   │  ╰──────┴───────────╯
 │   ┴
 │
 │  section .text#2 (address: 0x400000)
 │   │
 │   │  program data | permissions: R X
 │   │
 │   │  ╭─────────────────────────────────────────────────┬──────────────────╮
 │   │  │ b8 04 00 00 00 bb 01 00 00 00 b9 00 10 40 00 ba │ .............@.. │
 │   │  │ 0d 00 00 00 cd 80 b0 01 bb 00 00 00 00 cd 80    │ ...............  │
 │   │  ╰─────────────────────────────────────────────────┴──────────────────╯
 │   ┴
 │
 │  section .data#3 (address: 0x401000)
 │   │
 │   │  program data | permissions: RW
 │   │
 │   │  ╭────────────────────────────────────────┬───────────────╮
 │   │  │ 48 65 6c 6c 6f 20 77 6f 72 6c 64 21 0a │ Hello world!. │
 │   │  ╰────────────────────────────────────────┴───────────────╯
 │   ┴
 │
 │  section .comment#4 (address: 0x0)
 │   │
 │   │  program data | permissions: -   | deduplicating zero-terminated strings
 │   │
 │   │  ╭──────────────────────────────────────────────┬─────────────────╮
 │   │  │ 4c 69 6e 6b 65 72 3a 20 70 6c 69 6e 6b 79 00 │ Linker: plinky. │
 │   │  ╰──────────────────────────────────────────────┴─────────────────╯
 │   ┴
 │
 │  section .strtab#5 (address: 0x0)
 │   │
 │   │    Strings table:
 │   │  ╭──────┬─────────╮
 │   │  │ 0x0  │         │
 │   │  ├──────┼─────────┤
 │   │  │ 0x1  │         │
 │   │  ├──────┼─────────┤
 │   │  │ 0x2  │ hello.S │
 │   │  ├──────┼─────────┤
 │   │  │ 0xa  │ msg     │
 │   │  ├──────┼─────────┤
 │   │  │ 0xe  │ len     │
 │   │  ├──────┼─────────┤
 │   │  │ 0x12 │ _start  │
 │   │  ╰──────┴─────────╯
 │   ┴
 │
 │  section .symtab#6 (address: 0x0)
 │   │
 │   │    Symbol table:
 │   │  ╭───────────┬─────────┬──────┬────────────┬────────────┬──────────┬──────╮
 │   │  │ Name      │ Binding │ Type │ Visibility │ Definition │ Value    │ Size │
 │   │  ├───────────┼─────────┼──────┼────────────┼────────────┼──────────┼──────┤
 │   │  │ #0        │ Local   │ -    │ Default    │ Undefined  │ 0x0      │ 0x0  │
 │   │  ├───────────┼─────────┼──────┼────────────┼────────────┼──────────┼──────┤
 │   │  │ hello.S#1 │ Local   │ File │ Default    │ Absolute   │ 0x0      │ 0x0  │
 │   │  ├───────────┼─────────┼──────┼────────────┼────────────┼──────────┼──────┤
 │   │  │ msg#2     │ Local   │ -    │ Default    │ .data#3    │ 0x401000 │ 0x0  │
 │   │  ├───────────┼─────────┼──────┼────────────┼────────────┼──────────┼──────┤
 │   │  │ len#3     │ Local   │ -    │ Default    │ Absolute   │ 0xd      │ 0x0  │
 │   │  ├───────────┼─────────┼──────┼────────────┼────────────┼──────────┼──────┤
 │   │  │ _start#4  │ Global  │ -    │ Default    │ .text#2    │ 0x400000 │ 0x0  │
 │   │  ╰───────────┴─────────┴──────┴────────────┴────────────┴──────────┴──────╯
 │   ┴
 │
 │    Segments:
 │  ╭───────────┬───────┬──────────┬─────────╮
 │  │ Type      │ Perms │ Aligment │ Content │
 │  ├───────────┼───────┼──────────┼─────────┤
 │  │ Load      │ R X   │ 0x1000   │ .text#2 │
 │  ├───────────┼───────┼──────────┼─────────┤
 │  │ Load      │ RW    │ 0x1000   │ .data#3 │
 │  ├───────────┼───────┼──────────┼─────────┤
 │  │ GNU stack │ RW    │ 0x1      │ -       │
 │  ╰───────────┴───────┴──────────┴─────────╯
 ┴



